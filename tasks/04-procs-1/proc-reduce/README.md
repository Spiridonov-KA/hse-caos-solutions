# Reduce

Вам дана бинарная ассоциативная операция $f$, принимающая два 64-битных беззнаковых целых числа и
возвращающая 64-битное беззнаковое целое число, а также три числа $from$, $to$ и $init$. Ваша
задача – посчитать значение следующего выражения:

$$ f( \ldots f(f(init, from), from + 1), \ldots, to - 1) $$

Для ускорения вычислений создайте не более чем `max_parallelism` дочерних процессов и разделите вычисления
между ними. Передавайте результаты вычислений через `pipe`. Считайте, что `f` на любых входных значениях
вычисляется за $O(1)$. Если при создании дочерних процессов произошла ошибка, ваше решение по-прежнему должно
вернуть корректное значение выражения, пусть и посчитанное без использования параллелизма. Ваше решение должно дождаться завершения созданных дочерних процессов.

Обратите внимание, что создание процесса и коммуникация с ним – не бесплатная операция. В некоторых случаях
выгоднее не создавать дочерних процессов вовсе. Также всегда создавать `max_parallelism` процессов – не
самая выгодная стратегия.

Ниже описаны два возможных подхода к распределению работы между процессами.
Вы можете следовать одному из них либо сделать все по-своему.

## Подход 1

Вы можете заранее разбить работу между дочерними процессами, тогда каждый процесс при создании будет знать,
какую работу ему нужно выполнять, но, в случае неравномерного распределения работы, дожидаться придется
самого долгого процесса.

## Подход 2

Вы можете разбить работу на количество, большее, чем количество дочерних процессов, и распределять ее через
общий `pipe`. В таком случае работа распределяется более равномерно, но взамен требуется больше коммуникации
с дочерними процессами.

> [!note]
>
> Если вы тестируете решение на машине с количеством ядер меньшим, чем 4 , либо ваша система загружена, тест `Performance` может локально проваливаться.
>
> Проверить количество доступных ядер можно, выполнив `nproc`.
